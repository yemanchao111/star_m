window.__require=function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var r=s.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+s+"'")}}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){return o(e[s][1][t]||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Ball:[function(t,e,n){"use strict";cc._RF.push(e,"963176vBD1NxJFVk6Yh7zRB","Ball"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.gameCtl=t,this.node.position=cc.v2(23,-218),this.getComponent(cc.RigidBody).linearVelocity=cc.v2(700,700)},onBeginContact:function(t,e,n){switch(n.tag){case 1:this.gameCtl.onBallContactBrick(e.node,n.node);break;case 2:this.gameCtl.onBallContactGround(e.node,n.node);break;case 3:this.gameCtl.onBallContactPaddle(e.node,n.node);break;case 4:this.gameCtl.onBallContactWall(e.node,n.node)}},start:function(){}}),cc._RF.pop()},{}],BrickLayout:[function(t,e,n){"use strict";cc._RF.push(e,"f5364KH+C1LnYsgnvjtOZw0","BrickLayout");var i=t("Star");cc.Class({extends:cc.Component,properties:{spacing:0,cols_spacing:0,cols:0,brickPrefab:cc.Prefab,bricksNumber:0,first_x:-198,first_y:63,star:{default:null,type:i}},onLoad:function(){this.star=new i},init:function(t,e){this.node.removeAllChildren(),this.bricksNumber=t,this.starChange(e);for(var n=0;n<this.bricksNumber;n++){var i=cc.instantiate(this.brickPrefab);i.parent=this.node,i.getComponent("Star").init(e),i.x=this.first_x+n%this.cols*(i.width/2+this.spacing),i.y=this.first_y-Math.floor(n/this.cols)*(i.height/2+this.cols_spacing)}console.log("star number is  "+t.toString())},starChange:function(t){this.game=t},start:function(){}}),cc._RF.pop()},{Star:"Star"}],GameCtl:[function(t,e,n){"use strict";cc._RF.push(e,"af752jiDOFOq4CCTQ1uUtW7","GameCtl");var i=t("Ball"),o=t("GameModel"),c=t("GameView"),s=t("BrickLayout"),a=t("OverPanel"),r=t("Paddle");cc.Class({extends:cc.Component,properties:{ball:{default:null,type:i},paddle:{default:null,type:r},brickLayout:{default:null,type:s},gameView:{default:null,type:c},overPanel:{default:null,type:a},starDuration:0},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){t.keyCode===cc.KEY.back&&cc.director.end()}),this.timer=0,this.physicsManager=cc.director.getPhysicsManager(),this.gameModel=new o,this.startGame()},init:function(){this.timer=0,this.physicsManager.enabled=!0,this.overPanel.init(this),this.gameModel.init(),this.brickLayout.init(this.gameModel.bricksNumber,this),this.ball.init(this),this.paddle.init(this)},startGame:function(){this.init()},stopGame:function(){this.physicsManager.enabled=!1,this.overPanel.show(this.gameModel.score,0===this.gameModel.bricksNumber)},onBallContactBrick:function(t,e){e.parent=null,this.gameModel.addScore(1),this.gameModel.minusBrick(1),this.gameView.updateScore(this.gameModel.score),this.gameModel.bricksNumber<=0&&this.stopGame()},onBallContactGround:function(t,e){this.stopGame()},onBallContactPaddle:function(t,e){t.getComponent(cc.RigidBody).linearVelocity=cc.v2(700,700)},onBallContactWall:function(t,e){},onPaddleContactWall:function(t,e){},onDestroy:function(){this.physicsManager.enabled=!1},start:function(){},update:function(t){this.timer>this.starDuration&&this.stopGame(),this.timer+=t}}),cc._RF.pop()},{Ball:"Ball",BrickLayout:"BrickLayout",GameModel:"GameModel",GameView:"GameView",OverPanel:"OverPanel",Paddle:"Paddle"}],GameModel:[function(t,e,n){"use strict";cc._RF.push(e,"ae7e1hydDZIK7fbr6otwQr2","GameModel"),cc.Class({extends:cc.Component,properties:{score:0,bricksNumber:0},init:function(){this.score=0,this.bricksNumber=10},addScore:function(t){this.score+=t},minusBrick:function(t){this.bricksNumber-=t},start:function(){}}),cc._RF.pop()},{}],GameView:[function(t,e,n){"use strict";cc._RF.push(e,"fb858ved+tP+KOXtWapxyN/","GameView"),cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label},init:function(t){this.gameCtl=t,this.Score=0},updateScore:function(t){this.Score=t,this.scoreLabel.string="score :"+this.Score.toString()}}),cc._RF.pop()},{}],OverPanel:[function(t,e,n){"use strict";cc._RF.push(e,"a7c838shp5EtbvSCVRcbH5E","OverPanel"),cc.Class({extends:cc.Component,properties:{resultLabel:cc.Label,scoreLabel:cc.Label},onLoad:function(){},init:function(t){this.gameCtl=t,this.node.active=!1},show:function(t,e){this.node.active=!0,this.resultLabel.string=e?"YOU WIN !":"YOU LOSE !",this.scoreLabel.string=t+""},onBtnRestart:function(){this.gameCtl.startGame()}}),cc._RF.pop()},{}],Paddle:[function(t,e,n){"use strict";cc._RF.push(e,"380c66fmoFCfqx7PjP1c5gw","Paddle"),cc.Class({extends:cc.Component,properties:{maxMoveSpeed:0,accel:0},onLoad:function(){this.y=this.node.y,this.xSpeed=0;var t=this.node;t.on("touchstart",this.onTouchStart,this),t.on("touchend",this.onTouchEnd,this),t.on("touchmove",this.onTouchMove,this)},onDestroy:function(){var t=this.node;t.off("touchstart",this.onTouchStart,this),t.off("touchmove",this.onTouchMove,this),t.off("touchend",this.onTouchEnd,this)},onTouchMove:function(t){var e=this.node.parent.convertToNodeSpace(t.getLocation());this.node.x=e.x},onTouchStart:function(t){t.getLocation().x>=cc.winSize.width/2?(this.accLeft=!1,this.accRight=!0):(this.accLeft=!0,this.accRight=!1)},onTouchEnd:function(t){},onBeginContact:function(t,e,n){switch(n.tag){case 4:this.gameCtl.onPaddleContactWall(e.node,n.node)}},onEndContact:function(t,e,n){switch(n.tag){case 4:this.gameCtl.onPaddleContactWall(e.node,n.node)}},init:function(t){this.gameCtl=t,this.node.position=cc.v2(25,-249)},start:function(){},update:function(t){this.node.y=this.y}}),cc._RF.pop()},{}],Star:[function(t,e,n){"use strict";cc._RF.push(e,"a28092vBQFOarbt4hCTvk8K","Star"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t){this.game=t,this.node.opacity=255},update:function(t){var e=1-this.game.timer/this.game.starDuration;this.node.opacity=30+Math.floor(225*e)}}),cc._RF.pop()},{}]},{},["Ball","BrickLayout","GameCtl","GameModel","GameView","OverPanel","Paddle","Star"]);